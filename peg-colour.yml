---
- name: Determine peg colour.
  set_fact:
    peg: "{ '{{ peg_number }}': '{{ colours | random }}' }" 

- name: Register the new peg.
  set_fact:
    pegs: "{{ pegs | default({}) | combine(peg) }}"
    cacheable: yes
